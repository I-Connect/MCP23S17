<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MCP23S17 Library: MCP23S17 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MCP23S17 Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMCP23S17-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MCP23S17 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97d5acfce335affc1fd0e90f27bb2773"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a97d5acfce335affc1fd0e90f27bb2773">MCP23S17</a> (SPIClass *spi, uint8_t cs, uint8_t addr)</td></tr>
<tr class="separator:a97d5acfce335affc1fd0e90f27bb2773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e55fe947c475f256e1a4d5e7f5961a"><td class="memItemLeft" align="right" valign="top"><a id="a36e55fe947c475f256e1a4d5e7f5961a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MCP23S17</b> (SPIClass &amp;spi, uint8_t cs, uint8_t addr)</td></tr>
<tr class="separator:a36e55fe947c475f256e1a4d5e7f5961a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406756f19493cdec55b56617ddc109f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a406756f19493cdec55b56617ddc109f1">begin</a> ()</td></tr>
<tr class="separator:a406756f19493cdec55b56617ddc109f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9078f8c0e9c623de2505ed4c19f09e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a6e9078f8c0e9c623de2505ed4c19f09e">pinMode</a> (uint8_t pin, uint8_t mode)</td></tr>
<tr class="separator:a6e9078f8c0e9c623de2505ed4c19f09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14834358725d440513946ac3d6c6a02e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a14834358725d440513946ac3d6c6a02e">digitalWrite</a> (uint8_t pin, uint8_t value)</td></tr>
<tr class="separator:a14834358725d440513946ac3d6c6a02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30386f1e0486570613ea06d110387093"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a30386f1e0486570613ea06d110387093">digitalRead</a> (uint8_t pin)</td></tr>
<tr class="separator:a30386f1e0486570613ea06d110387093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa798040d8c6b863398978623a73d6cba"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#aa798040d8c6b863398978623a73d6cba">readPort</a> (uint8_t port)</td></tr>
<tr class="separator:aa798040d8c6b863398978623a73d6cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d1747d85825e3bf2cf4be7268c9b92"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a45d1747d85825e3bf2cf4be7268c9b92">readPort</a> ()</td></tr>
<tr class="separator:a45d1747d85825e3bf2cf4be7268c9b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11ed96faaef273362d2c54260e68891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#ad11ed96faaef273362d2c54260e68891">writePort</a> (uint8_t port, uint8_t val)</td></tr>
<tr class="separator:ad11ed96faaef273362d2c54260e68891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a34c5b29e75cfd715bd1449626f98e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a63a34c5b29e75cfd715bd1449626f98e">writePort</a> (uint16_t val)</td></tr>
<tr class="separator:a63a34c5b29e75cfd715bd1449626f98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cfe7bd574736faeca00e133e5e19ec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a8cfe7bd574736faeca00e133e5e19ec3">enableInterrupt</a> (uint8_t pin, uint8_t type)</td></tr>
<tr class="separator:a8cfe7bd574736faeca00e133e5e19ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff570e5211f9443769a53f017626b180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#aff570e5211f9443769a53f017626b180">disableInterrupt</a> (uint8_t pin)</td></tr>
<tr class="separator:aff570e5211f9443769a53f017626b180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9bcf0d06c5a15875f406e1ed73ecc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a5b9bcf0d06c5a15875f406e1ed73ecc7">setMirror</a> (boolean m)</td></tr>
<tr class="separator:a5b9bcf0d06c5a15875f406e1ed73ecc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a11133076a20b9c16e30fb2ddc566c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#ad1a11133076a20b9c16e30fb2ddc566c">getInterruptPins</a> ()</td></tr>
<tr class="separator:ad1a11133076a20b9c16e30fb2ddc566c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3b48d655eb9850a9349973d0ece330"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#adf3b48d655eb9850a9349973d0ece330">getInterruptValue</a> ()</td></tr>
<tr class="separator:adf3b48d655eb9850a9349973d0ece330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5786c6b9a618a1c7c0fd95ca7d93774d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a5786c6b9a618a1c7c0fd95ca7d93774d">setInterruptLevel</a> (uint8_t level)</td></tr>
<tr class="separator:a5786c6b9a618a1c7c0fd95ca7d93774d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7c2e4c24141e8ba455aa1d2e497e6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#aef7c2e4c24141e8ba455aa1d2e497e6c">setInterruptOD</a> (boolean openDrain)</td></tr>
<tr class="separator:aef7c2e4c24141e8ba455aa1d2e497e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fe5598e164c10007ff8b709e9928d7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#ab4fe5598e164c10007ff8b709e9928d7">getInterruptAPins</a> ()</td></tr>
<tr class="separator:ab4fe5598e164c10007ff8b709e9928d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85804702340f3f36c706bed218f4c29"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#ad85804702340f3f36c706bed218f4c29">getInterruptAValue</a> ()</td></tr>
<tr class="separator:ad85804702340f3f36c706bed218f4c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03e29efc5be2411a7862995f8781b8b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#af03e29efc5be2411a7862995f8781b8b">getInterruptBPins</a> ()</td></tr>
<tr class="separator:af03e29efc5be2411a7862995f8781b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5353a96385378f253aa58824e139ab76"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMCP23S17.html#a5353a96385378f253aa58824e139ab76">getInterruptBValue</a> ()</td></tr>
<tr class="separator:a5353a96385378f253aa58824e139ab76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a97d5acfce335affc1fd0e90f27bb2773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d5acfce335affc1fd0e90f27bb2773">&#9670;&nbsp;</a></span>MCP23S17()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MCP23S17::MCP23S17 </td>
          <td>(</td>
          <td class="paramtype">SPIClass *&#160;</td>
          <td class="paramname"><em>spi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constructor takes three parameters. The first is an SPI class pointer. This is the address of an SPI object (either the default SPI object on the Arduino, or an object made using the DSPIx classes on the chipKIT). The second parameter is the chip select pin number to use when communicating with the chip. The third is the internal address number of the chip. This is controlled by the three Ax pins on the chip.</p>
<p>Example:</p>
<pre class="fragment">MCP23S17 myExpander(&amp;SPI, 10, 0);
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a406756f19493cdec55b56617ddc109f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406756f19493cdec55b56617ddc109f1">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The begin function performs the initial configuration of the IO expander chip. Not only does it set up the SPI communications, but it also configures the chip for address-based communication and sets the default parameters and registers to sensible values.</p>
<p>Example: </p><pre class="fragment">myExpander.begin();
</pre> 
</div>
</div>
<a id="a30386f1e0486570613ea06d110387093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30386f1e0486570613ea06d110387093">&#9670;&nbsp;</a></span>digitalRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::digitalRead </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will return the current state of a pin set to INPUT, or the last value written to a pin set to OUTPUT.</p>
<p>Example: </p><pre class="fragment">byte value = myExpander.digitalRead(4);
</pre> 
</div>
</div>
<a id="a14834358725d440513946ac3d6c6a02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14834358725d440513946ac3d6c6a02e">&#9670;&nbsp;</a></span>digitalWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::digitalWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like the Arduino API's namesake, this function will set an output pin to a specific value, either HIGH (1) or LOW (0). If the pin is currently set to an INPUT instead of an OUTPUT, then this function acts like the old way of enabling / disabling the pullup resistor, which pre-1.0.0 versions of the Arduino API used - i.e., set HIGH to enable the pullup, or LOW to disable it.</p>
<p>Example: </p><pre class="fragment">myExpander.digitalWrite(3, HIGH);
</pre> 
</div>
</div>
<a id="aff570e5211f9443769a53f017626b180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff570e5211f9443769a53f017626b180">&#9670;&nbsp;</a></span>disableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::disableInterrupt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This disables the interrupt functionality of a pin.</p>
<p>Example: </p><pre class="fragment">myExpander.disableInterrupt(4);
</pre> 
</div>
</div>
<a id="a8cfe7bd574736faeca00e133e5e19ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cfe7bd574736faeca00e133e5e19ec3">&#9670;&nbsp;</a></span>enableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::enableInterrupt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enables the interrupt functionality of a pin. The interrupt type can be one of:</p>
<ul>
<li>CHANGE</li>
<li>RISING</li>
<li>FALLING</li>
</ul>
<p>When an interrupt occurs the corresponding port's INT pin will be driven to it's configured level, and will remain there until either the port is read with a readPort or digitalRead, or the captured port status at the time of the interrupt is read using getInterruptValue.</p>
<p>Example: </p><pre class="fragment">myExpander.enableInterrupt(4, RISING);
</pre> 
</div>
</div>
<a id="ab4fe5598e164c10007ff8b709e9928d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4fe5598e164c10007ff8b709e9928d7">&#9670;&nbsp;</a></span>getInterruptAPins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::getInterruptAPins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns an 8-bit bitmap of the Port-A pin or pins that have caused an interrupt to fire.</p>
<p>Example: </p><pre class="fragment">unsigned int pins = myExpander.getInterruptAPins();
</pre> 
</div>
</div>
<a id="ad85804702340f3f36c706bed218f4c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85804702340f3f36c706bed218f4c29">&#9670;&nbsp;</a></span>getInterruptAValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::getInterruptAValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This returns a snapshot of the Port-A IO pin states at the moment the last interrupt occured. Reading this value clears the interrupt status (and hence the INT pins) for the port. Until this value is read (or the current live port value is read) no further interrupts can be indicated.</p>
<p>Example: </p><pre class="fragment">unsigned int pinValues = myExpander.getInterruptAValue();
</pre> 
</div>
</div>
<a id="af03e29efc5be2411a7862995f8781b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03e29efc5be2411a7862995f8781b8b">&#9670;&nbsp;</a></span>getInterruptBPins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::getInterruptBPins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns an 8-bit bitmap of the Port-B pin or pins that have caused an interrupt to fire.</p>
<p>Example: </p><pre class="fragment">unsigned int pins = myExpander.getInterruptBPins();
</pre> 
</div>
</div>
<a id="a5353a96385378f253aa58824e139ab76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5353a96385378f253aa58824e139ab76">&#9670;&nbsp;</a></span>getInterruptBValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::getInterruptBValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This returns a snapshot of the Port-B IO pin states at the moment the last interrupt occured. Reading this value clears the interrupt status (and hence the INT pins) for the port. Until this value is read (or the current live port value is read) no further interrupts can be indicated.</p>
<p>Example: </p><pre class="fragment">unsigned int pinValues = myExpander.getInterruptBValue();
</pre> 
</div>
</div>
<a id="ad1a11133076a20b9c16e30fb2ddc566c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a11133076a20b9c16e30fb2ddc566c">&#9670;&nbsp;</a></span>getInterruptPins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t MCP23S17::getInterruptPins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns a 16-bit bitmap of the the pin or pins that have cause an interrupt to fire.</p>
<p>Example: </p><pre class="fragment">unsigned int pins = myExpander.getInterruptPins();
</pre> 
</div>
</div>
<a id="adf3b48d655eb9850a9349973d0ece330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3b48d655eb9850a9349973d0ece330">&#9670;&nbsp;</a></span>getInterruptValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t MCP23S17::getInterruptValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This returns a snapshot of the IO pin states at the moment the last interrupt occured. Reading this value clears the interrupt status (and hence the INT pins) for the whole chip. Until this value is read (or the current live port value is read) no further interrupts can be indicated.</p>
<p>Example: </p><pre class="fragment">unsigned int pinValues = myExpander.getInterruptPins();
</pre> 
</div>
</div>
<a id="a6e9078f8c0e9c623de2505ed4c19f09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9078f8c0e9c623de2505ed4c19f09e">&#9670;&nbsp;</a></span>pinMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::pinMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Just like the <a class="el" href="classMCP23S17.html#a6e9078f8c0e9c623de2505ed4c19f09e">pinMode()</a> function of the Arduino API, this function sets the direction of the pin. The first parameter is the pin nimber (0-15) to use, and the second parameter is the direction of the pin. There are standard Arduino macros for different modes which should be used. The supported macros are:</p>
<ul>
<li>OUTPUT</li>
<li>INPUT</li>
<li>INPUT_PULLUP</li>
</ul>
<p>The INPUT_PULLUP mode enables the weak pullup that is available on any pin.</p>
<p>Example: </p><pre class="fragment">myExpander.pinMode(5, INPUT_PULLUP);
</pre> 
</div>
</div>
<a id="a45d1747d85825e3bf2cf4be7268c9b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d1747d85825e3bf2cf4be7268c9b92">&#9670;&nbsp;</a></span>readPort() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t MCP23S17::readPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a full 16-bit version of the parameterised readPort function. This version reads the value of both ports and combines them into a single 16-bit value.</p>
<p>Example: </p><pre class="fragment">unsigned int value = myExpander.readPort();
</pre> 
</div>
</div>
<a id="aa798040d8c6b863398978623a73d6cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa798040d8c6b863398978623a73d6cba">&#9670;&nbsp;</a></span>readPort() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MCP23S17::readPort </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the entire 8-bit value of a GPIO port. Note that only the bits which correspond to a GPIO pin set to INPUT are valid. Other pins should be ignored. The only parameter defines which port (A/B) to retrieve: 0 is port A and 1 (or anything other than 0) is port B.</p>
<p>Example: </p><pre class="fragment">byte portA = myExpander.readPort(0);
</pre> 
</div>
</div>
<a id="a5786c6b9a618a1c7c0fd95ca7d93774d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5786c6b9a618a1c7c0fd95ca7d93774d">&#9670;&nbsp;</a></span>setInterruptLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::setInterruptLevel </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This sets the "active" level for an interrupt. HIGH means the interrupt pin will go HIGH when an interrupt occurs, LOW means it will go LOW.</p>
<p>Example: </p><pre class="fragment">myExpander.setInterruptLevel(HIGH);
</pre> 
</div>
</div>
<a id="aef7c2e4c24141e8ba455aa1d2e497e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7c2e4c24141e8ba455aa1d2e497e6c">&#9670;&nbsp;</a></span>setInterruptOD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::setInterruptOD </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>openDrain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Using this function it is possible to configure the interrupt output pins to be open drain. This means that interrupt pins from multiple chips can share the same interrupt pin on the host MCU. This causes the level set by setInterruptLevel to be ignored. A pullup resistor will be required on the host MCU's interrupt pin.</p>
<p>Example: </p><pre class="fragment">myExpander.setInterruptOD(true);
</pre> 
</div>
</div>
<a id="a5b9bcf0d06c5a15875f406e1ed73ecc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9bcf0d06c5a15875f406e1ed73ecc7">&#9670;&nbsp;</a></span>setMirror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::setMirror </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The two IO banks can have their INT pins connected together. This enables you to monitor both banks with just one interrupt pin on the host microcontroller. Calling setMirror with a parameter of <em>true</em> will enable this feature. Calling it with <em>false</em> will disable it.</p>
<p>Example: </p><pre class="fragment">myExpander.setMirror(true);
</pre> 
</div>
</div>
<a id="a63a34c5b29e75cfd715bd1449626f98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a34c5b29e75cfd715bd1449626f98e">&#9670;&nbsp;</a></span>writePort() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::writePort </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the 16-bit version of the writePort function. This takes a single 16-bit value and splits it between the two IO ports, the upper half going to port B and the lower to port A.</p>
<p>Example: </p><pre class="fragment">myExpander.writePort(0x55AA);
</pre> 
</div>
</div>
<a id="ad11ed96faaef273362d2c54260e68891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11ed96faaef273362d2c54260e68891">&#9670;&nbsp;</a></span>writePort() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCP23S17::writePort </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This writes an 8-bit value to one of the two IO port banks (A/B) on the chip. The value is output direct to any pins on that bank that are set as OUTPUT. Any bits that correspond to pins set to INPUT are ignored. As with the readPort function the first parameter defines which bank to use (0 = A, 1+ = B).</p>
<p>Example: </p><pre class="fragment">myExpander.writePort(0, 0x55);
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="MCP23S17_8h_source.html">MCP23S17.h</a></li>
<li>src/MCP23S17.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 9 2021 19:56:48 for MCP23S17 Library by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
